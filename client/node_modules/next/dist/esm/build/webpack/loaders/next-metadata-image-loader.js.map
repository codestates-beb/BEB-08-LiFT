{"version":3,"sources":["../../../../src/build/webpack/loaders/next-metadata-image-loader.ts"],"names":["fs","path","loaderUtils","getImageSize","imageExtMimeTypeMap","fileExists","nextMetadataImageLoader","content","options","getOptions","type","route","segment","pageExtensions","numericSizes","resourcePath","rootContext","context","name","fileNameBase","ext","parse","extension","slice","opts","contentHash","interpolateName","interpolatedName","isDynamicResource","includes","pageRoute","hashQuery","JSON","stringify","imageSize","catch","err","Error","imageData","width","height","sizes","altPath","join","dirname","alt","readFile","raw"],"mappings":"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"}