{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","getEntries","EntryTypes","getEntryKey","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","SERVER_REFERENCE_MANIFEST","FLIGHT_SERVER_CSS_MANIFEST","generateActionId","getActions","isClientComponentModule","isCSSMod","traverseModules","forEachEntryModule","normalizePathSep","getProxiedPluginState","warnOnce","PLUGIN_NAME","pluginState","serverActions","edgeServerActions","actionModId","serverCSSManifest","edgeServerCSSManifest","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","ClientReferenceEntryPlugin","constructor","options","dev","appDir","isEdgeServer","useExperimentalReact","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","resource","layer","client","ssrNamedModuleId","relative","context","startsWith","replace","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","push","String","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createAsset","addClientEntryAndSSRModulesList","addActionEntryList","entryModule","internalClientComponentEntryImports","Set","actionEntryImports","Map","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientImports","actionImports","collectComponentInfoFromDependencies","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","add","relativeRequest","bundlePath","injectClientEntryAndSSRModules","entryName","absolutePagePath","size","injectActionEntry","actions","collectClientEntryDependencyMap","clientEntryDependencyMap","entry","entries","get","includeDependencies","getResolvedModule","finishModules","addedClientActionEntryList","tracked","has","clientActionImports","fromClient","Promise","all","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","cssModules","cssImports","Object","assign","data","manifest","JSON","undefined","RawSource","invalidator","outputPath","some","shouldInvalidate","invalidate","map","addClientEntryAndSSRModules","visitedBySegment","clientComponentImports","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","isCSS","modRequest","query","storeKey","isClientComponent","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","test","Array","from","loaderOptions","server","clientLoader","importPath","sep","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","currentCompilerServerActions","p","id","workers","actionEntryDep","action","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","fullServerActions","json"],"mappings":"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"}