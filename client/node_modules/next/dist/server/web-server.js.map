{"version":3,"sources":["../../src/server/web-server.ts"],"names":["NextWebServer","BaseServer","constructor","options","Object","assign","renderOpts","webServerConfig","extendRenderOpts","handleCompression","getIncrementalCache","requestHeaders","dev","IncrementalCache","appDir","hasAppDir","minimalMode","fetchCache","nextConfig","experimental","fetchCacheKeyPrefix","maxMemoryCacheSize","isrMemoryCacheSize","flushToDisk","CurCacheHandler","serverOptions","incrementalCacheHandler","getPrerenderManifest","version","routes","dynamicRoutes","notFoundRoutes","preview","getResponseCache","WebResponseCache","getCustomRoutes","headers","rewrites","fallback","afterFiles","beforeFiles","redirects","run","req","res","parsedUrl","key","keys","query","value","NEXT_QUERY_PARAM_PREFIX","startsWith","normalizedKey","substring","length","hasPage","page","getPublicDir","getBuildId","buildId","loadEnvConfig","getHasAppDir","pagesType","getHasStaticDir","getFallback","getFontManifest","undefined","getPagesManifest","getAppPathsManifest","getFilesystemPaths","Set","attachRequestMeta","addRequestMeta","previewModeId","previewModeSigningKey","previewModeEncryptionKey","getServerComponentManifest","clientReferenceManifest","getServerCSSManifest","serverCSSManifest","getNextFontManifest","nextFontManifest","generateRoutes","fsRoutes","match","getPathMatch","type","name","check","fn","params","_parsedUrl","path","render404","finished","shift","lastParam","endsWith","pathname","join","getRouteFromAssetPath","router","hasMiddleware","trailingSlash","i18n","host","hostname","split","toLowerCase","localePathResult","normalizeLocalePath","locales","domainLocale","i18nProvider","detectDomainLocale","detectedLocale","__nextLocale","__nextDefaultLocale","defaultLocale","__nextDataReq","_params","catchAllRoute","matchesLocale","Error","isDynamicRoute","routeRegex","getNamedRouteRegex","interpolateDynamicPath","normalizeVercelUrl","routeKeys","removeTrailingSlash","analyze","bubbleNoFallback","_nextBubbleNoFallback","isAPIRoute","render","err","NoFallbackError","useFileSystemPublicRoutes","appPathRoutes","getAppPathRoutes","catchAllMiddleware","matchers","handleApiRequest","renderHTML","_res","pagesRenderToHTML","appRenderToHTML","curRenderToHTML","url","cookies","disableOptimizedLoading","runtime","sendRenderResult","_req","setHeader","poweredByHeader","resultContentType","result","contentType","getHeader","isDynamic","writer","transformStream","writable","getWriter","pipe","write","chunk","end","close","destroy","abort","cork","uncork","payload","toUnchunkedString","String","byteLength","generateEtags","generateETag","body","send","runApi","findPageComponents","loadComponent","components"],"mappings":"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"}